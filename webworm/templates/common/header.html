<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Worm Movement Database</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Worm Movement Database">
    <meta name="author" content="cheelee@openworm.org">

    <!-- Styles -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">

    <!-- jQuery and Bootstrap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- For DataTable support -->
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
  </head>

  <header class="jumbotron subhead" id="overview">
    <div class="container">
      <h1>All Worm Movement Experiments</h1>
      <p class="lead">
	A Prototype implementation of Worm Movement Database Browser Tool.
      <p>Total number of experiments in database = {{ db_experiment_count }} </p>
      </p>
    </div>
  </header>
  <div class="container" id="searchPane">
    <div id="searchInfo">
      <div class="row">
	<button type="button" class="btn btn-success" data-toggle="collapse" data-target="#searchControls">Toggle Search Filters</button>
	<a href="{% url "results" %}" class="btn btn-primary" role="button">Show All Experiments</a>
	<a href="{% url "index" %}" class="btn btn-danger" role="button">Reset Display</a>
      </div>
      <h4>Number of Filtered Elements: {{ experiment_count }}</h4>
      <h4>Current Search Filter String:</h4>
      <p> {{ search_string }} </p>
    </div>
    <div class="collapse" id="searchControls">
      <hr>
      <div class="container" id="methodPanes">
	<ul class="nav nav-tabs">
	  <li class="active"><a data-toggle="tab" href="#parametersPane">Parameters</a></li>
	  <li><a data-toggle="tab" href="#fieldsPane">Search by Fields</a></li>
	</ul>

	<div class="tab-content">
	  <!-- Search by Parameters -->
	  <div class="tab-pane fade in active" id="parametersPane">
	    {% include "webworm/parameters-template.html" %}
	  </div>
	  <!-- Search by database fields -->
	  <div class="tab-pane fade" id="fieldsPane">
	    <form action="{% url "results" %}" method="get">
	      <div class="form-group" >
		{% include "common/search-template.html" %}
	      </div>
	    </form>
	  </div>
	</div>

      </div>
    </div>
  </div>
  <hr>
  {% block content %}{% endblock %}
</html>

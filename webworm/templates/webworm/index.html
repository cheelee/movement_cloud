{% extends "webworm/header.html" %}

{% block content %}
<div class="container" id="searchPane">
  <div id="searchInfo">
    <div class="row">
      <button type="button" class="btn btn-success" data-toggle="collapse" data-target="#searchControls">Toggle Search Filters</button>
      <a href="{% url "index" %}" class="btn btn-danger" role="button">Reset Display</a>
    </div>
    <h4>Number of Filtered Elements: {{ experiment_count }}</h4>
    <!--
      <h4>Current Search Filter String:</h4>
      <p> {{ search_string }} </p>
      -->
  </div>
  <div class="collapse" id="searchControls">
    <hr>
    <div class="container" id="methodPanes">
      <ul class="nav nav-tabs">
	<li class="active"><a data-toggle="tab" href="#parametersPane">Parameters</a></li>
	<li><a data-toggle="tab" href="#fieldsPane">Search by Fields</a></li>
      </ul>
      
      <div class="tab-content">
	<!-- Search by Parameters -->
	<div class="tab-pane fade in active" id="parametersPane">
	  {% include "webworm/parameters-template.html" %}
	</div>
	<!-- Search by database fields -->
	<div class="tab-pane fade" id="fieldsPane">
	  <form action="{% url "results" %}" method="get">
	    <div class="form-group" >
	      {% include "webworm/search-template.html" %}
	    </div>
	  </form>
	</div>
      </div>
      
    </div>
  </div>
</div>
<hr>
<div class="container" id="master">
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#indexInfo">Instructions</a></li>
    <li><a data-toggle="tab" href="#summaryPane">Summary (Full DB)</a></li>
  </ul>

  <div class="tab-content">
    <!-- Information Panel -->
    <div class="tab-pane fade in active" id="indexInfo">
      <h4>To get started please use the search filters.
      </h4>
      <h4>
	A summary of searchable parameter names along with record
	counts may be found in the "Summary" tab.
      </h4>
    </div>

    <div class="tab-pane fade" id="summaryPane">
      {% include "webworm/summary-template.html" %}
    </div>
</div>
{% load static %}
<script src="{% static "webworm/paginate-summary.js" %}"></script>
<script src="{% static "webworm/paginate-parameters.js" %}"></script>
{% endblock %}
